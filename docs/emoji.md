# **データセット設計メモ：絵文字プロパティの構造と命名に関する検討**

## **1\. 背景と目的**

現在、データセット内の各アイテムには一種類の絵文字（emoji）が設定されている。これを以下の二種類の役割を持つ絵文字に分割・再定義したい。

1. **汎化（グルーピング用）:** アイテムのカテゴリや種類を視覚的に分類するため。  
2. **特化（個別識別用）:** アイテム個々の特殊性や実体を視覚的に識別するため。

また、既存スキーマは「すべて一語（小文字）」のフラットな構造であるが、本件を機にキャメルケースやネスト構造の導入を検討している。

## **2\. 提案されているスキーマ案**

### **案A：フラット構造（最小構成）**

既存のフラットな構造を維持し、プロパティ名で役割を区別する案。

{  
  "id": "...",  
  "categoryEmoji": "👨‍💻",  // 汎化：開発・作業環境  
  "itemEmoji": "📜",      // 特化：スクリプトファイル  
  "icon": "M14.25...",     // 既存のSVGパス  
  "keywords": \["..."\]  
}

* **命名規則:** categoryEmoji（修飾語 \+ 名詞）。「絵文字データのカテゴリー」ではなく「カテゴリーを表す絵文字」であることを明確にする。  
* **Pros:** 既存のパーサーやデータ処理ロジックへの影響が最小。実装コストが低い。  
* **Cons:** プロパティが増えるとルート直下が乱雑になる。

### **案B：ドメイン駆動ネスト（意味的構造化）**

「カテゴリー」を独立した実体として扱い、その属性として絵文字を持たせる案。

{  
  "id": "...",  
  "emoji": "📜",           // アイテム自身の絵文字（特化）はルートに  
  "category": {  
    "emoji": "👨‍💻",        // カテゴリーの絵文字（汎化）  
    "code": "development"  // 将来的な拡張（IDやNameなど）  
  },  
  "icon": "...",  
  "keywords": \["..."\]  
}

* **Pros:** カテゴリーに関連する情報（名前、ID等）が増えても category オブジェクト内に凝集できる。  
* **Cons:** emoji（特化）と category.emoji（汎化）でアクセス階層が異なる非対称性が発生する。

### **案C：名前空間分離（拡張性重視）**

「見た目（Visuals）」と「分類（Classification）」という関心事ごとに名前空間を分ける案。

{  
  "id": "...",  
  "title": "...",  
    
  // 見た目・表現に関する定義  
  "visuals": {  
    "groupEmoji": "👨‍💻",    // 旧 categoryEmoji  
    "itemEmoji": "📜",     // 旧 itemEmoji  
    "iconPath": "M14...",   // 旧 icon  
    "statusEmoji": "✅"    // 将来の拡張  
  },

  // 分類・検索に関する定義（Keywordsの分離）  
  "classification": {  
    "taxonomy": \["development", "github"\], // 統制語彙  
    "tags": \["userscript", "moukaeritai"\]  // フォークソノミー  
  }  
}

* **Pros:** ルート直下が汚れない。役割（UI vs データ）が明確。将来的な拡張（ステータス絵文字、タグの種類の分離など）に極めて強い。  
* **Cons:** JSONの階層が深くなり、データ生成・編集のコスト（カッコの記述など）が若干上がる。

## **3\. 残された論点と決定すべき事項（Open Questions）**

議論を再開する際は、以下の「分岐点」について意思決定を行う必要がある。

### **Q1. 将来の拡張スコープはどこまで想定するか？**

* **選択肢1:** 今回は絵文字を2つに分けるだけで十分。それ以上の複雑化は避ける。  
  * → **案A（フラット）** を採用。  
* **選択肢2:** 近い将来、カテゴリーにIDや名称を持たせる、あるいはタグを統制語彙と自由に分けたい。  
  * → **案C（名前空間分離）** または **案B（ドメイン駆動）** を採用。

### **Q2. icon（SVG）と emoji（文字列）の関係性は？**

* 現在は並列に存在している。これらを「表示用アセット」としてひとまとめに管理したいか（visuals オブジェクトへの集約）、それとも別々の属性として扱うか。

### **Q3. 命名規則（Naming Convention）の確定**

* **語順:** \[Modifier\]\[Noun\] (例: categoryEmoji) で合意形成済み。  
* **用語:** 汎化絵文字を category と呼ぶか、group と呼ぶか。特化絵文字を item と呼ぶか、単に emoji と呼ぶか。

## **4\. 参考：現在のデータアイテム例（未加工）**

{  
  "title": "📜 userscript.moukaeritai.work",  
  "url": "\[https://github.com/\](https://github.com/)...",  
  "description": "...",  
  "emoji": "👨‍💻📜",  // ここを分割したい  
  "icon": "M14.25...",  
  "keywords": \["development", "github", "codespaces", "userscript"\]  
}  